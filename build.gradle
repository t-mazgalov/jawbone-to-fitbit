//URL codeUrl = new URL('https://www.fitbit.com/oauth2/authorize')
//HttpURLConnection codeConnection = (HttpURLConnection) codeUrl.openConnection()
//codeConnection.doOutput = 'true'
//codeConnection.requestMethod = 'POST'
//codeConnection.outputStream.withWriter {
//    it.write('response_type=token&client_id=2282QD&redirect_uri=http%3A%2F%2F127.0.0.1:8080&scope=activity%20nutrition%20heartrate%20location%20nutrition%20profile%20settings%20sleep%20social%20weight&expires_in=604800')
//    it.flush()
//}
//
//codeConnection.responseCode
//println codeConnection.errorStream.text
//println codeConnection.inputStream.text

apply plugin: 'jetty'
apply plugin: 'war'
apply plugin: 'groovy'

task copyImportFile(type: Copy) {
    from importFile
    into 'src/main/resources'
    rename (/.*/, 'importFile.csv')
    outputs.upToDateWhen {false}
}

tasks.jettyRunWar.dependsOn 'copyImportFile'

repositories {
    mavenCentral()
}
dependencies {
    compile localGroovy()
    compile "javax.servlet:javax.servlet-api:3.1.0"
}